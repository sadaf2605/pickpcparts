<p id="notice"><%= notice %></p>

<h1>Listing Cpus</h1>

<table class="parts" class="display" cellspacing="0" width="100%">
  <thead>
    <tr>

      <th>Model</th>
      <th>Speed</th>
      <th>Cores</th>
      <th>TDP</th>
      <th>Price</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>

    <% @cpus.each do |cpu| %>

      <tr>
        <td><%= link_to cpu.model, cpu %></td>
        <td><%= cpu.speed %></td>
        <td><%= cpu.cores %></td>
        <td><%= cpu.thermal_design_power %></td>
        <td>0BDT</td>
      </tr>

    <% end %>
  </tbody>
</table>


<div class="col-md-4">

		<%= datagrid_form_for @grid, :method => :get, :url => cpus_path %>
		<%= will_paginate(@grid.assets) %>
	
</div>
<div class="col-md-8">
	<div id="filtered">
		<%= datagrid_table @grid %>
		<%= will_paginate(@grid.assets) %>
	</div>
</div>

<script>



timer = 0;

$("input").on('keyup', function(e){
    if (timer) {
        clearTimeout(timer);
    }
    timer = setTimeout(updatehtml, 400); 
});

updatehtml=function(){
	
	$.getScript( "cpus.js?"+$(".datagrid-form").serialize() )
	  .done(function( script, textStatus ) {
	    //alert( textStatus );
	    update()
	  })
	  .fail(function( jqxhr, settings, exception ) {
	    alert("Triggered ajaxError handler."+exception+jqxhr );
	});
};
</script>